[gd_scene load_steps=17 format=3 uid="uid://bhkvxpqty24h6"]

[ext_resource type="Script" uid="uid://by7bncqo1qqc6" path="res://mario/mario_scene.gd" id="1_g6g74"]
[ext_resource type="Texture2D" uid="uid://dr543dc6jp41r" path="res://mario/images/mario/smb_mario_sheet.png" id="1_jmjmq"]
[ext_resource type="Script" uid="uid://dr88ygphxq38u" path="res://mario/UltimatePlatformerController.gd" id="2_g6g74"]
[ext_resource type="Texture2D" uid="uid://5m2w4ly8xw1h" path="res://mario/images/mario_sheet_alpha.png" id="4_krxw5"]
[ext_resource type="Shader" uid="uid://dhx0pm74qonx8" path="res://mario/crt2.gdshader" id="5_6n16v"]

[sub_resource type="AtlasTexture" id="AtlasTexture_0hwuu"]
atlas = ExtResource("1_jmjmq")
region = Rect2(389, 57, 16, 22)

[sub_resource type="AtlasTexture" id="AtlasTexture_m5g4m"]
atlas = ExtResource("1_jmjmq")
region = Rect2(203, 52, 29, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_krxw5"]
atlas = ExtResource("1_jmjmq")
region = Rect2(359, 52, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tqwqi"]
atlas = ExtResource("1_jmjmq")
region = Rect2(261, 52, 29, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_c5ebx"]
atlas = ExtResource("1_jmjmq")
region = Rect2(290, 52, 29, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_omkag"]
atlas = ExtResource("1_jmjmq")
region = Rect2(232, 52, 29, 34)

[sub_resource type="SpriteFrames" id="SpriteFrames_ow0ht"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0hwuu")
}],
"loop": true,
"name": &"crouch_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0hwuu")
}],
"loop": true,
"name": &"crouch_walk",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_m5g4m")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_krxw5")
}],
"loop": true,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tqwqi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c5ebx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tqwqi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_omkag")
}],
"loop": true,
"name": &"run",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tqwqi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c5ebx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tqwqi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_omkag")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_l02i7"]
size = Vector2(66.5, 129.5)

[sub_resource type="AtlasTexture" id="AtlasTexture_6n16v"]
atlas = ExtResource("4_krxw5")
region = Rect2(5, 293, 256, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6n16v"]
size = Vector2(256, 14.999998)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0hwuu"]
shader = ExtResource("5_6n16v")
shader_parameter/screen_width = 640.0
shader_parameter/screen_height = 480.0
shader_parameter/BarrelPower = 1.04
shader_parameter/color_bleeding = 1.0
shader_parameter/bleeding_range_x = 1.2
shader_parameter/bleeding_range_y = 1.2
shader_parameter/lines_distance = 4.0
shader_parameter/scan_size = 2.0
shader_parameter/scanline_alpha = 0.9
shader_parameter/lines_velocity = 30.0

[node name="Node2D" type="Node2D"]
script = ExtResource("1_g6g74")

[node name="Mario" type="CharacterBody2D" parent="." node_paths=PackedStringArray("PlayerSprite", "PlayerCollider")]
position = Vector2(488, 448)
script = ExtResource("2_g6g74")
PlayerSprite = NodePath("AnimatedSprite2D")
PlayerCollider = NodePath("CollisionShape2D")
maxSpeed = 500.0
runningModifier = true
jumpHeight = 3.0
gravityScale = 40.0
terminalVelocity = 1000.0
run = true
jump = true
idle = true
walk = true
crouch_idle = true
crouch_walk = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Mario"]
scale = Vector2(4, 4)
sprite_frames = SubResource("SpriteFrames_ow0ht")
animation = &"idle"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Mario"]
position = Vector2(-0.25, -3.25)
shape = SubResource("RectangleShape2D_l02i7")

[node name="Camera2D" type="Camera2D" parent="Mario"]
position = Vector2(7, -7)
zoom = Vector2(0.595, 0.595)
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true

[node name="Floor" type="StaticBody2D" parent="."]
position = Vector2(512, 608)
scale = Vector2(4, 4)

[node name="Sprite2D" type="Sprite2D" parent="Floor"]
texture = SubResource("AtlasTexture_6n16v")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
position = Vector2(0, -0.5)
shape = SubResource("RectangleShape2D_6n16v")

[node name="Floor2" type="StaticBody2D" parent="."]
position = Vector2(-448, 800)
scale = Vector2(4, 4)

[node name="Sprite2D" type="Sprite2D" parent="Floor2"]
texture = SubResource("AtlasTexture_6n16v")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor2"]
position = Vector2(0, -0.36)
shape = SubResource("RectangleShape2D_6n16v")

[node name="Floor3" type="StaticBody2D" parent="."]
position = Vector2(-512, 416)
scale = Vector2(4, 4)

[node name="Sprite2D" type="Sprite2D" parent="Floor3"]
texture = SubResource("AtlasTexture_6n16v")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor3"]
position = Vector2(0, -0.36)
shape = SubResource("RectangleShape2D_6n16v")

[node name="Floor4" type="StaticBody2D" parent="."]
position = Vector2(-640, 160)
scale = Vector2(4, 4)

[node name="Sprite2D" type="Sprite2D" parent="Floor4"]
texture = SubResource("AtlasTexture_6n16v")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor4"]
position = Vector2(0, -0.36)
shape = SubResource("RectangleShape2D_6n16v")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_0hwuu")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
